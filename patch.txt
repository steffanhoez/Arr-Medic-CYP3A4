ê³µê°œ ì „ í•„ìˆ˜ ìˆ˜ì • 3ê°€ì§€ (5~10ë¶„ ì»·)

ë ˆí¬ ìœ„ìƒ: backend/.pytest_cache/ í´ë”ëŠ” ë²„ì „ê´€ë¦¬ ì œì™¸ ëŒ€ìƒì…ë‹ˆë‹¤. ë£¨íŠ¸ .gitignoreì— ì´ë¯¸ ê·œì¹™ì´ ìˆìœ¼ë‹ˆ, ì´ë²ˆ ì»¤ë°‹ì—ì„œ í´ë”ë§Œ ì œê±°í•˜ë©´ OK.

ì˜ì¡´ì„± ë©”ëª¨: RDKitëŠ” pip ëŒ€ì‹  conda ê¶Œì¥ ì£¼ì„ì´ ì´ë¯¸ ìˆìœ¼ë‚˜, README â€œì„¤ì¹˜â€ ì„¹ì…˜ì— **pip-only ê²½ë¡œ(ëª¨ë¸ ë‹¨ìˆœ/ì˜µì…˜í™”)**ì™€ conda ê²½ë¡œ ë‘˜ ë‹¤ ëª…ì‹œí•´ ì£¼ì„¸ìš”.

ë³´ì•ˆ í—¤ë”(ì„ íƒì  ê¶Œì¥â†’ê°•ë ¥ ì¶”ì²œ): Starlette SecurityMiddleware í•œ ì¤„ë¡œ ê¸°ë³¸ í—¤ë”(HSTS ë“±) ì¶”ê°€í•˜ë©´ OSS ê³µê°œ ì‹œ ì‹ ë¢°ë„ â†‘.

# main.py (ì•± ìƒì„± ì§í›„)
from starlette.middleware import Middleware
from starlette.middleware.cors import CORSMiddleware
from starlette.middleware import Middleware
from starlette.middleware import Middleware
from starlette.middleware import Middleware
# ì´ë¯¸ CORS ë¯¸ë“¤ì›¨ì–´ëŠ” ìˆìœ¼ë‹ˆ ì•„ë˜ë§Œ ì¶”ê°€
from starlette.middleware.trustedhost import TrustedHostMiddleware
from starlette.middleware.sessions import SessionMiddleware
from starlette.middleware.gzip import GZipMiddleware
from starlette.middleware import Middleware
from starlette.middleware import Middleware
# ìµœì†Œ ì˜ˆ: ì••ì¶• + ì‹ ë¢° í˜¸ìŠ¤íŠ¸ + ë³´ì•ˆí—¤ë”
app.add_middleware(GZipMiddleware, minimum_size=1024)
app.add_middleware(TrustedHostMiddleware, allowed_hosts=["localhost","127.0.0.1","your-domain.com"])
# (í•„ìš”ì‹œ Starlette SecurityMiddleware ë˜ëŠ” ìì²´ í—¤ë” ì„¸íŒ… ì¶”ê°€)


ì£¼: ìœ„ ë¯¸ë“¤ì›¨ì–´ëŠ” ì„ íƒ ì‚¬í•­ì…ë‹ˆë‹¤. í˜„ì¬ API ì„±ê²©ìƒ CORS í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ë§Œìœ¼ë¡œë„ ì¶©ë¶„í•˜ì§€ë§Œ, ê³µê°œ OSSë¼ë©´ ë³´ì•ˆ í—¤ë” ê¸°ë³¸ê°’ì€ ê°€ì‚°ì ì…ë‹ˆë‹¤.

ì½”ë“œë³„ ë¦¬ë·° & ì œì•ˆ
models.py

âœ… extra="forbid"ë¡œ ì…ë ¥ ìœ íš¨ì„± í–¥ìƒ.

âœ… PredictionType/RiskLevel Enumìœ¼ë¡œ ì¼ê´€ì„± ìš°ìˆ˜.

ì œì•ˆ: BatchPredictionRequest.compoundsì— SMILES ìµœëŒ€ ê¸¸ì´/ê³µë°± ì œê±° ë³´ì¡°ê²€ì¦ì„ ì¶”ê°€í•˜ë©´ ë°°ì¹˜ ì…ë ¥ë„ ë‹¨ì¼ ì…ë ¥ê³¼ ë™ì¼ ê°•ë„ë¡œ ë³´í˜¸ë©ë‹ˆë‹¤.

predictor.py

âœ… í™•ë¥  í´ë¨í”„(floor/ceil) í™˜ê²½ë³€ìˆ˜í™”ë¡œ ìˆ˜ì¹˜ ì•ˆì •ì„± í™•ë³´.

ì œì•ˆ: seed ê³ ì • í•¨ìˆ˜(ì˜ˆ: utils/repro.set_seed())ë¥¼ predictor ì´ˆê¸°í™” ì‹œ ì„ íƒì ìœ¼ë¡œ í˜¸ì¶œí•´ í…ŒìŠ¤íŠ¸ ì¼ê´€ì„±ì„ ë³´ì¥.

database.py

âœ… WAL/timeout/busy_timeout ì ìš©ë˜ì–´ ì¶©ëŒÂ·ì§€ì—°ì— ê°•í•¨.

ì œì•ˆ: PRAGMA foreign_keys=ON;ë¥¼ ì´ˆê¸°í™” ì‹œ ì¶”ê°€(í˜„ ìŠ¤í‚¤ë§ˆìƒ FKëŠ” ì—†ì§€ë§Œ ê´€ë¡€ì  ì•ˆì •ì¥ì¹˜).

ì œì•ˆ: get_recent_predictions ë°˜í™˜ í•„ë“œì— model_version í¬í•¨(ì´ë¯¸ ì»¬ëŸ¼ ìˆìŒ) â†’ API ì‘ë‹µì˜ ì¶”ì ì„±â†‘.

main.py

âœ… CORS í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ í™˜ê²½ë³€ìˆ˜, ì „ì—­ ì˜ˆì™¸ í•¸ë“¤ëŸ¬, /docs ë…¸ì¶œ ë“± í‘œì¤€ê¸°ë°˜.

ì œì•ˆ: /predict/batchì— ìµœëŒ€ ë°°ì¹˜ í¬ê¸°(ì˜ˆ: 100) ì„œë²„ ì¸¡ ê°€ë“œ(ëª¨ë¸ì— ì´ë¯¸ ì œí•œ ìˆë”ë¼ë„ ì´ì¤‘ ë³´í˜¸).

ì œì•ˆ: /healthì—ì„œ DB ê°„ë‹¨ ping(ì˜ˆ: SELECT 1)ì„ í•œ ë²ˆ ì‹¤í–‰í•´ ì‹¤ì œ ì—°ê²°ì„±ì„ ì²´í¬í•˜ë©´ ìš´ì˜ í˜„ì¥ì—ì„œ ìœ ìš©.

DevEx/ë¦´ë¦¬ìŠ¤ ê°œì„  (ìˆìœ¼ë©´ ë” ì¢‹ì•„ìš”)

ë°°ì§€ ì¶”ê°€: README ìƒë‹¨ì— CI, License, PyPI(í•´ë‹¹ ì‹œ) ë°°ì§€ ì¶”ê°€.

SECURITY.md: ì·¨ì•½ì  ì œë³´ ê²½ë¡œ(ì´ë©”ì¼/GH Security) í•œ ì¤„ ë¬¸ì„œ.

Releases: v1.0.0 ì„œëª… íƒœê·¸ + ë¦´ë¦¬ìŠ¤ ë…¸íŠ¸(CHANGELOG ë°˜ì˜).

SBOM: GitHub CodeQL ë˜ëŠ” CycloneDX(ì„ íƒ).

ìƒ˜í”Œ í´ë¼ì´ì–¸íŠ¸: examples/ í´ë”ì— curl/python requests ì˜ˆì œ 2~3ê°œ.

Rate Limit: ì˜¤í”ˆ ì—”ë“œí¬ì¸íŠ¸ì˜ ë‚¨ìš© ë°©ì§€(ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ë ˆë²¨ì—ì„œ ì²˜ë¦¬ ê¶Œì¥: Nginx/Cloudflare).

ê³µê°œ â€œGo/No-Goâ€ ì²´í¬ë¦¬ìŠ¤íŠ¸

 í…ŒìŠ¤íŠ¸/CI ê·¸ë¦° (pytest + Bandit)

 ë¼ì´ì„ ìŠ¤/ë¬¸ì„œ/ì›Œí¬í”Œë¡œ ì¤€ë¹„

 Docker ë¡œì»¬ ì‹¤í–‰ ì„±ê³µ (docker build, docker run -p 8000:8000 â€¦)

 .pytest_cache/ ì œê±° ì»¤ë°‹

 (ì„ íƒ) ë³´ì•ˆ í—¤ë” ë¯¸ë“¤ì›¨ì–´ ì¶”ê°€

 (ì„ íƒ) READMEì— pip/conda ì„¤ì¹˜ ê²½ë¡œ ë³‘ê¸°

ìµœì¢… íŒë‹¨

Goì…ë‹ˆë‹¤. ìœ„ 2~3ê°œ ê²½ë¯¸í•œ ìˆ˜ì •ì„ ì»¤ë°‹í•œ ë’¤, v1.0.0 íƒœê¹…í•´ì„œ GitHub ê³µê°œí•˜ì„¸ìš”.

ğŸ”¹ Patch â€” OSS ë³´ì™„
*** Begin Patch
*** Update File: README.md
@@
 # ARR-MEDIC CYP3A4 Opensource
 
-## Features
+## âš ï¸ Disclaimer
+
+ğŸ”´ **Not for Clinical or Diagnostic Use**  
+This project is intended **only for research and educational purposes**.  
+Do **not** use it in clinical decision-making, patient care, or regulatory submissions.
+
+---
+
+## Features
 - FastAPI backend
 - CYP3A4 predictor (rule-based, extensible)
+
+## Roadmap
+- v1.0: Rule-based baseline (~70% accuracy)
+- v2.0: Add RDKit descriptors + ML (RandomForest, XGBoost)
+- v3.0: GNN / Transformer support
+
+For advanced **clinical-grade Pro version (90%+ accuracy, Flamehaven)**,  
+please see commercial offerings. Migration toolkit (logs/DB transfer) will be provided.
+
+---
+
+## Example: Run in Google Colab
+
+You can try the predictor interactively in a Jupyter/Colab notebook.
+
+```python
+!pip install arr-medic-cyp3a4-opensource fastapi uvicorn
+
+from predictor import predict
+
+print(predict("CCN"))  # simple demo
+```
+
*** End of File
*** Add File: notebooks/demo_colab.ipynb
+{
+ "cells": [
+  {
+   "cell_type": "markdown",
+   "metadata": {},
+   "source": [
+    "# ARR-MEDIC CYP3A4 Opensource â€” Colab Demo\n",
+    "\n",
+    "ğŸ”´ Not for Clinical Use.\n",
+    "\n",
+    "This notebook demonstrates how to use the CYP3A4 rule-based predictor."
+   ]
+  },
+  {
+   "cell_type": "code",
+   "metadata": {},
+   "source": [
+    "!pip install arr-medic-cyp3a4-opensource fastapi uvicorn"
+   ]
+  },
+  {
+   "cell_type": "code",
+   "metadata": {},
+   "source": [
+    "from predictor import predict\n",
+    "\n",
+    "print(predict(\"CCN\"))\n",
+    "print(predict(\"CCO\"))"
+   ]
+  }
+ ],
+ "metadata": {
+  "kernelspec": {
+   "display_name": "Python 3",
+   "language": "python",
+   "name": "python3"
+  },
+  "language_info": {
+   "name": "python"
+  }
+ },
+ "nbformat": 4,
+ "nbformat_minor": 2
+}
*** End Patch
*** Add File: .github/ISSUE_TEMPLATE/bug_report.md
+---
+name: Bug report
+about: Report a bug to help us improve
+title: "[BUG]"
+labels: bug
+assignees: ''
+---
+
+**Describe the bug**
+A clear and concise description of what the bug is.
+
+**To Reproduce**
+Steps to reproduce the behavior:
+1. Run '...'
+2. See error
+
+**Expected behavior**
+A clear and concise description of what you expected to happen.
+
+**Environment**
+- OS: [e.g. Ubuntu 22.04]
+- Python version: [e.g. 3.10]
+
+**Additional context**
+Add any other context about the problem here.
*** End Patch
*** Add File: .github/ISSUE_TEMPLATE/feature_request.md
+---
+name: Feature request
+about: Suggest an idea for this project
+title: "[FEAT]"
+labels: enhancement
+assignees: ''
+---
+
+**Is your feature request related to a problem? Please describe.**
+A clear and concise description of what the problem is.
+
+**Describe the solution you'd like**
+A clear and concise description of what you want to happen.
+
+**Additional context**
+Add any other context or screenshots about the feature request here.
*** End Patch
*** End Patch

ğŸ”¹ íŒ¨ì¹˜ ì£¼ìš” íš¨ê³¼

README.md â†’ ìƒë‹¨ì— ğŸ”´ Disclaimer + Roadmap + Colab ì‹¤í–‰ ì˜ˆì‹œ ì¶”ê°€.

notebooks/demo_colab.ipynb â†’ êµìœ¡/ì—°êµ¬ìê°€ ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ Jupyter Notebook.